<!DOCTYPE html>

<html lang="en" dir="ltr">
    {% load static %}
    <head>
        <meta charset="utf-8">
        <title>SDMS - {{screen_name}}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="{% static 'css/style2.css' %}">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link rel="icon" href="{% static 'img/SDMS_Logo.png' %}">
        <script src="https://kit.fontawesome.com/ed50edad61.js" crossorigin="anonymous"></script>
    </head>

    <body onload="showTime(), loaddate()">
        <div class="driver_home">
            <div class="row">
                <div class="col-9 justify-content-start">
                    <div class="greeting">Hello {{first_name}}!</div>
                </div>
                <div class="col-2 justify-content-end">
                    <div id="MyClockDisplay" class="clock"></div>
                    <div class = "daydate">
                        <span id="dayname">Day</span> | 
                        <span id="month">Month</span>
                        <span id="daynum">00</span>, 
                        <span id="year">Year</span>
                    </div>
                </div>
                <div class="col-1 justify-content-end">
                    <a href="{% url 'SDMS:logout' %}">
                        <i class="fas fa-sign-out-alt" id="driver-logout"></i>
                    </a>
                </div>
            </div>
            <div class="driver-form-container-wide">
                <h1>Reference No. {{trip.ref_num}}</h1>
                <div class="details-cont">
                    <div class="details-cont">
                        <h4 id="edittrip-details">Farm: {{trip.farm}}</h4>
                        <div class="row">
                            <div class="col-4 justify-content-center">
                                <h2 id="edittrip-details">Helper 1: {{trip.helper_1}}</h2>
                            </div>
                            <div class="col-4 justify-content-center">
                                <h2 id="edittrip-details">Helper 2: {{trip.helper_2}}</h2>
                            </div>
                            <div class="col-4 justify-content-center">
                                <h2 id="edittrip-details">Helper 3: {{trip.helper_3}}</h2>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6 justify-content-center">
                                <h2 id="edittrip-details">Bags Delivered: {{trip.bag_count}}</h2>
                            </div>
                            <div class="col-6 justify-content-center">
                                <h2 id="edittrip-details">Bags over CAP: {{excess}}</h2>
                            </div>
                        </div>
                        <h2 id="edittrip-details">Trip Date: {{trip.trip_date}}</h2>
                    </div>
                    
                    <form method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{ form.non_field_errors }}
                        
                        <div class="edit-form-cont" id="edit-form-cont">
                            <div class="row">
                                <div class="col-6 justify-content-center">
                                    <div class="select-box-form" id="driver-select-box-form">
                                        <div class="options-container" id="driver-options-container">
                                            {{ form.trip_status.errors }}
                                            {% for status in form.trip_status %}
                                            <div class="option" id="driver-option">
                                                {{ status.tag }}
                                                <label for="{{ status.id_for_label }}">{{ status.choice_label }}</label>
                                            </div>
                                            {% endfor %}
                                        </div>
                        
                                        <div class="selected" id="driver-selected">
                                            {{trip_status}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-6 justify-content-center">
                                    <div class="form_field">
                                        {{ form.additional_expense.errors }}
                                        {{ form.additional_expense }}
                                        <span></span>
                                        <label>Additional Expense</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col-6 justify-content-center">
                                    <button type='submit' class= 'submitForm'> Save </button>
                                </div>
                                <div class="col-6 justify-content-center">
                                    <div class="btn-cont">
                                        <a class="cancelForm" href="{% url 'SDMS:driver-home' %}"> Cancel </a>
                                    </div>
                                </div>
                            </div>
                        </div>    
                    </form>
                </div>
            </div>
        </div>
        <script src="{% static 'js/main.js' %}"></script>
        <script src="{% static 'js/selected1.js' %}"></script>
    </body>
</html>